"use strict";(self["webpackChunkfood_mall"]=self["webpackChunkfood_mall"]||[]).push([[650],{8327:function(e,t,o){o.d(t,{Z:function(){return k}});var a=o(3396),c=o(7139);const s={key:0},n={class:"category-content"},l=["src"];function r(e,t,o,r,u,i){const d=(0,a.up)("nut-empty"),g=(0,a.up)("nut-tabpane"),y=(0,a.up)("nut-tabs"),p=(0,a.up)("Skucom");return(0,a.wg)(),(0,a.iD)(a.HY,null,[e.categoryInfo.category?((0,a.wg)(),(0,a.j4)(y,{key:0,class:"goods-tabs",modelValue:e.tab5value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tab5value=t),ellipsis:!0,"title-scroll":!0,direction:"vertical",onClick:r.tabClick},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.categoryInfo.category,(o=>((0,a.wg)(),(0,a.j4)(g,{class:"nut-tabpane",title:o.catName},{default:(0,a.w5)((()=>[e.categoryChild.length>0?((0,a.wg)(),(0,a.iD)("div",s,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.categoryChild,(o=>((0,a.wg)(),(0,a.iD)("div",{class:"category",key:o.catId},[(0,a._)("div",n,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.childCateList,(o=>((0,a.wg)(),(0,a.iD)("div",{class:"category-content-goods",key:o.catId,onClick:t[0]||(t[0]=t=>e.customBySlot=!0)},[(0,a._)("img",{src:o.backImg,alt:""},null,8,l),(0,a._)("div",null,(0,c.zw)(o.catName),1)])))),128))])])))),128))])):((0,a.wg)(),(0,a.j4)(d,{key:1,description:"无数据"}))])),_:2},1032,["title"])))),256))])),_:1},8,["modelValue","onClick"])):(0,a.kq)("",!0),(0,a.Wm)(p,{customBySlot:e.customBySlot,onSkuClose:r.skuClose},null,8,["customBySlot","onSkuClose"])],64)}var u=o(4870),i=o(7212),d=o(4806),g={components:{Skucom:i.Z},props:{},setup(e,t){const o=(0,u.qj)({tab5value:"0",customBySlot:!1,categoryInfo:{},category:[{}],categoryChild:[{}]});(0,a.bv)((()=>{c()}));const c=()=>{fetch("//storage.360buyimg.com/nutui/3x/categoryData.js").then((e=>e.json())).then((e=>{console.log(e);const{categoryInfo:t,categoryChild:a}=e;o.categoryInfo=t,o.category=t.category,o.categoryChild=a})).catch((e=>console.log("Oh, error",e)))},s=e=>{let{title:t,paneKey:a,disabled:c}=e,s=o.categoryInfo.category[a+1]&&o.categoryInfo.category[a+1].children&&d.isArray(o.categoryInfo.category[a+1].children)?o.categoryInfo.category[a+1].children:[];o.categoryChild=[].concat(s)},n=()=>{o.customBySlot=!1};return{...(0,u.BK)(o),tabClick:s,skuClose:n}}},y=o(89);const p=(0,y.Z)(g,[["render",r],["__scopeId","data-v-7c8eb283"]]);var k=p},7212:function(e,t,o){o.d(t,{Z:function(){return h}});var a=o(3396),c=o(7139);const s=(0,a._)("span",{class:"tag"},null,-1),n={class:"nut-sku-header-right-extra"},l=(0,a._)("div",null,[(0,a._)("div",null,"规格")],-1),r={class:"sku-operate-box"},u=(0,a.Uk)("加入采购单"),i=(0,a.Uk)("立即提交");function d(e,t,o,d,g,y){const p=(0,a.up)("nut-price"),k=(0,a.up)("nut-button"),h=(0,a.up)("nut-sku");return(0,a.wg)(),(0,a.j4)(h,{visible:o.customBySlot,"onUpdate:visible":t[0]||(t[0]=e=>o.customBySlot=e),sku:e.sku,goods:e.goods,btnOptions:["buy","cart"],onSelectSku:d.selectSku,onClickBtnOperate:d.clickBtnOperate,onClose:d.skuClose},{"sku-header-price":(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(p,{price:e.goods.price,needSymbol:!0,thousands:!1},null,8,["price"]),s])])),"sku-header-extra":(0,a.w5)((()=>[(0,a._)("span",n,"重量：0.1kg 编号："+(0,c.zw)(e.goods.skuId),1)])),"sku-select-top":(0,a.w5)((()=>[])),"sku-select":(0,a.w5)((()=>[l])),"sku-operate":(0,a.w5)((()=>[(0,a._)("div",r,[(0,a.Wm)(k,{class:"sku-operate-item",shape:"square",type:"warning"},{default:(0,a.w5)((()=>[u])),_:1}),(0,a.Wm)(k,{class:"sku-operate-item",shape:"square",type:"primary"},{default:(0,a.w5)((()=>[i])),_:1})])])),_:1},8,["visible","sku","goods","onSelectSku","onClickBtnOperate","onClose"])}var g=o(4870),y={emits:["skuClose"],props:{customBySlot:{type:Boolean,default:!1}},setup(e,t){const o=(0,g.qj)({sku:[],goods:{}});(0,a.bv)((()=>{fetch("https://storage.360buyimg.com/nutui/3x/data.js").then((e=>e.json())).then((e=>{const{Sku:t,Goods:a,imagePathMap:c}=e;o.sku=t,o.goods=a})).catch((e=>console.log("Oh, error",e)))}));const c=()=>{t.emit("skuClose")},s=e=>{const{sku:t,skuIndex:a,parentSku:c,parentIndex:s}=e;if(t.disable)return!1;o.sku[s].list.forEach((e=>{e.active=e.id==t.id})),o.goods={skuId:t.id,price:"6002.10",imagePath:"//img14.360buyimg.com/n4/jfs/t1/215845/12/3788/221990/618a5c4dEc71cb4c7/7bd6eb8d17830991.jpg"}},n=e=>{console.log("点击了操作按钮",e)};return{selectSku:s,clickBtnOperate:n,skuClose:c,...(0,g.BK)(o)}}},p=o(89);const k=(0,p.Z)(y,[["render",d]]);var h=k},975:function(e,t,o){o.r(t),o.d(t,{default:function(){return m}});var a=o(3396);const c=e=>((0,a.dD)("data-v-416f492e"),e=e(),(0,a.Cn)(),e),s=c((()=>(0,a._)("div",null,[(0,a._)("div",null,"0件"),(0,a._)("div",null,"0.00元")],-1))),n={class:"pageHeight"};function l(e,t,o,c,l,r){const u=(0,a.up)("nut-searchbar"),i=(0,a.up)("nut-icon"),d=(0,a.up)("Goods"),g=(0,a.up)("Skucom");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(u,{modelValue:e.searchValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchValue=t),clearable:"",onSearch:c.search},{rightout:(0,a.w5)((()=>[(0,a._)("div",{onClick:t[0]||(t[0]=(...e)=>c.search&&c.search(...e))},"搜索")])),_:1},8,["modelValue","onSearch"]),(0,a._)("div",{class:"fixed-div",onClick:t[2]||(t[2]=(...e)=>c.routerView&&c.routerView(...e))},[(0,a.Wm)(i,{class:"margin-r-5",name:"cart",size:"24"}),s]),(0,a._)("div",n,[(0,a.Wm)(d)]),(0,a.Wm)(g,{customBySlot:c.customBySlot,onSkuClose:c.skuClose},null,8,["customBySlot","onSkuClose"])],64)}var r=o(9768),u=o(4870),i=o(678),d=o(4806),g=o(7212),y=o(8327),p={name:"ListsPage",components:{Skucom:g.Z,Goods:y.Z},setup(){const e=(0,i.tv)(),t=(0,u.iH)(!1);var o=(0,u.qj)({tab5value:"0",searchValue:"",categoryInfo:{},category:[{}],categoryChild:[{}]});(0,a.bv)((()=>{c()}));const c=()=>{fetch("//storage.360buyimg.com/nutui/3x/categoryData.js").then((e=>e.json())).then((e=>{const{categoryInfo:t,categoryChild:a}=e;o.categoryInfo=t,o.category=t.category,o.categoryChild=a})).catch((e=>console.log("Oh, error",e)))},s=e=>{let{title:t,paneKey:a,disabled:c}=e,s=o.categoryInfo.category[a+1]&&o.categoryInfo.category[a+1].children&&d.isArray(o.categoryInfo.category[a+1].children)?o.categoryInfo.category[a+1].children:[];o.categoryChild=[].concat(s)},n=d.debounce(((e,t)=>{o.tab5value="0",r.ZP.text("搜索触发"+o.searchValue)}),200),l=()=>{t.value=!1},g=()=>{e.push({path:"/shoppingcart"})};return{...(0,u.BK)(o),tabClick:s,skuClose:l,routerView:g,search:n,customBySlot:t}}},k=o(89);const h=(0,k.Z)(p,[["render",l],["__scopeId","data-v-416f492e"]]);var m=h}}]);
//# sourceMappingURL=listsView.4c388bc2.js.map