"use strict";(self["webpackChunkfood_mall"]=self["webpackChunkfood_mall"]||[]).push([[650],{9097:function(e,t,o){o.r(t),o.d(t,{default:function(){return x}});var a=o(3396),s=o(7139);const c=e=>((0,a.dD)("data-v-35265bdd"),e=e(),(0,a.Cn)(),e),l=c((()=>(0,a._)("div",null,[(0,a._)("div",null,"0件"),(0,a._)("div",null,"0.00元")],-1))),n={key:0},u={class:"category-title"},r={class:"category-content"},i=["src"];function d(e,t,o,c,d,g){const k=(0,a.up)("nut-searchbar"),p=(0,a.up)("nut-icon"),y=(0,a.up)("nut-empty"),h=(0,a.up)("nut-tabpane"),m=(0,a.up)("nut-tabs"),v=(0,a.up)("Skucom");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(k,{modelValue:e.searchValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchValue=t),clearable:"",onSearch:c.search},{rightout:(0,a.w5)((()=>[(0,a._)("div",{onClick:t[0]||(t[0]=(...e)=>c.search&&c.search(...e))},"搜索")])),_:1},8,["modelValue","onSearch"]),(0,a._)("div",{class:"fixed-div",onClick:t[2]||(t[2]=(...e)=>c.routerView&&c.routerView(...e))},[(0,a.Wm)(p,{class:"margin-r-5",name:"cart",size:"24"}),l]),e.categoryInfo.category?((0,a.wg)(),(0,a.j4)(m,{key:0,class:"pageHeight",modelValue:e.tab5value,"onUpdate:modelValue":t[4]||(t[4]=t=>e.tab5value=t),ellipsis:!0,"title-scroll":!0,direction:"vertical",onClick:c.tabClick},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.categoryInfo.category,(o=>((0,a.wg)(),(0,a.j4)(h,{class:"nut-tabpane",title:o.catName},{default:(0,a.w5)((()=>[e.categoryChild.length>0?((0,a.wg)(),(0,a.iD)("div",n,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.categoryChild,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"category",key:e.catId},[(0,a._)("div",u,(0,s.zw)(e.catName),1),(0,a._)("div",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.childCateList,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"category-content-goods",key:e.catId,onClick:t[3]||(t[3]=e=>c.customBySlot=!0)},[(0,a._)("img",{src:e.backImg,alt:""},null,8,i),(0,a._)("div",null,(0,s.zw)(e.catName),1)])))),128))])])))),128))])):((0,a.wg)(),(0,a.j4)(y,{key:1,description:"无数据"}))])),_:2},1032,["title"])))),256))])),_:1},8,["modelValue","onClick"])):(0,a.kq)("",!0),(0,a.Wm)(v,{customBySlot:c.customBySlot,onSkuClose:c.skuClose},null,8,["customBySlot","onSkuClose"])],64)}var g=o(9768),k=o(4870),p=o(678),y=o(4806);const h=(0,a._)("span",{class:"tag"},null,-1),m={class:"nut-sku-header-right-extra"},v=(0,a._)("div",null,[(0,a._)("div",null,"规格")],-1),b={class:"sku-operate-box"},w=(0,a.Uk)("加入采购单"),f=(0,a.Uk)("立即提交");function C(e,t,o,c,l,n){const u=(0,a.up)("nut-price"),r=(0,a.up)("nut-button"),i=(0,a.up)("nut-sku");return(0,a.wg)(),(0,a.j4)(i,{visible:o.customBySlot,"onUpdate:visible":t[0]||(t[0]=e=>o.customBySlot=e),sku:e.sku,goods:e.goods,btnOptions:["buy","cart"],onSelectSku:c.selectSku,onClickBtnOperate:c.clickBtnOperate,onClose:c.skuClose},{"sku-header-price":(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(u,{price:e.goods.price,needSymbol:!0,thousands:!1},null,8,["price"]),h])])),"sku-header-extra":(0,a.w5)((()=>[(0,a._)("span",m,"重量：0.1kg 编号："+(0,s.zw)(e.goods.skuId),1)])),"sku-select-top":(0,a.w5)((()=>[])),"sku-select":(0,a.w5)((()=>[v])),"sku-operate":(0,a.w5)((()=>[(0,a._)("div",b,[(0,a.Wm)(r,{class:"sku-operate-item",shape:"square",type:"warning"},{default:(0,a.w5)((()=>[w])),_:1}),(0,a.Wm)(r,{class:"sku-operate-item",shape:"square",type:"primary"},{default:(0,a.w5)((()=>[f])),_:1})])])),_:1},8,["visible","sku","goods","onSelectSku","onClickBtnOperate","onClose"])}var _={emits:["skuClose"],props:{customBySlot:{type:Boolean,default:!1}},setup(e,t){const o=(0,k.qj)({sku:[],goods:{}});(0,a.bv)((()=>{fetch("https://storage.360buyimg.com/nutui/3x/data.js").then((e=>e.json())).then((e=>{const{Sku:t,Goods:a,imagePathMap:s}=e;o.sku=t,o.goods=a})).catch((e=>console.log("Oh, error",e)))}));const s=()=>{t.emit("skuClose")},c=e=>{const{sku:t,skuIndex:a,parentSku:s,parentIndex:c}=e;if(t.disable)return!1;o.sku[c].list.forEach((e=>{e.active=e.id==t.id})),o.goods={skuId:t.id,price:"6002.10",imagePath:"//img14.360buyimg.com/n4/jfs/t1/215845/12/3788/221990/618a5c4dEc71cb4c7/7bd6eb8d17830991.jpg"}},l=e=>{console.log("点击了操作按钮",e)};return{selectSku:c,clickBtnOperate:l,skuClose:s,...(0,k.BK)(o)}}},S=o(89);const I=(0,S.Z)(_,[["render",C]]);var B=I,V={name:"ListsPage",components:{Skucom:B},setup(){const e=(0,p.tv)(),t=(0,k.iH)(!1);var o=(0,k.qj)({tab5value:"0",searchValue:"",categoryInfo:{},category:[{}],categoryChild:[{}]});(0,a.bv)((()=>{s()}));const s=()=>{fetch("//storage.360buyimg.com/nutui/3x/categoryData.js").then((e=>e.json())).then((e=>{const{categoryInfo:t,categoryChild:a}=e;o.categoryInfo=t,o.category=t.category,o.categoryChild=a})).catch((e=>console.log("Oh, error",e)))},c=e=>{let{title:t,paneKey:a,disabled:s}=e,c=o.categoryInfo.category[a+1]&&o.categoryInfo.category[a+1].children&&y.isArray(o.categoryInfo.category[a+1].children)?o.categoryInfo.category[a+1].children:[];o.categoryChild=[].concat(c)},l=y.debounce(((e,t)=>{o.tab5value="0",g.ZP.text("搜索触发"+o.searchValue)}),200),n=()=>{t.value=!1},u=()=>{e.push({path:"/shoppingcart"})};return{...(0,k.BK)(o),tabClick:c,skuClose:n,routerView:u,search:l,customBySlot:t}}};const j=(0,S.Z)(V,[["render",d],["__scopeId","data-v-35265bdd"]]);var x=j}}]);
//# sourceMappingURL=listsView.4c11f8da.js.map